{"ast":null,"code":"import React,{useEffect}from'react';import{Table,Button}from'react-bootstrap';import Loader from'../components/Loader';import Message from'../components/Message';import{useDispatch,useSelector}from'react-redux';import{LinkContainer}from'react-router-bootstrap';import{listUsers,deleteUser}from'../actions/userActions';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserListScreen(){const dispatch=useDispatch();const navigate=useNavigate();const userList=useSelector(state=>state.userList);const{loading,error,users}=userList;const userLogin=useSelector(state=>state.userLogin);//get the user info \nconst{userInfo}=userLogin;const userDelete=useSelector(state=>state.userDelete);const{success:successDelete}=userDelete;useEffect(()=>{if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else{navigate('/login');}},[dispatch,navigate,userInfo,successDelete]);const deleteHandler=id=>{if(window.confirm('Are you suse you want ti delete this user ?')){dispatch(deleteUser(id));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"                    ID                  \"}),/*#__PURE__*/_jsx(\"th\",{children:\"                    Name                  \"}),/*#__PURE__*/_jsx(\"th\",{children:\"                    Email                  \"}),/*#__PURE__*/_jsx(\"th\",{children:\"                    Admin                  \"}),/*#__PURE__*/_jsx(\"th\",{children:\"              \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fa-sharp fa-solid fa-xmark\",style:{color:'red'}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/users/\".concat(user._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:()=>deleteHandler(user._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},user._id))})]})]});}export default UserListScreen;","map":{"version":3,"names":["React","useEffect","Table","Button","Loader","Message","useDispatch","useSelector","LinkContainer","listUsers","deleteUser","useNavigate","jsx","_jsx","jsxs","_jsxs","UserListScreen","dispatch","navigate","userList","state","loading","error","users","userLogin","userInfo","userDelete","success","successDelete","isAdmin","deleteHandler","id","window","confirm","children","variant","striped","bordered","hover","responsive","className","map","user","_id","name","email","style","color","to","concat","onClick"],"sources":["C:/Users/HARI_JOHNSON/Desktop/digital-shop/termic_deploy/termic_backend/termic_shop/src/screens/UserListScreen.jsx"],"sourcesContent":["import React,{ useEffect } from 'react'\r\nimport { Table,Button } from 'react-bootstrap'\r\nimport  Loader   from '../components/Loader'\r\nimport  Message   from '../components/Message'\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { listUsers,deleteUser } from '../actions/userActions'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n\r\n\r\n\r\nfunction UserListScreen() {\r\n\r\n    const dispatch =useDispatch()\r\n    const navigate = useNavigate();\r\n\r\n    const userList  = useSelector(state => state.userList)\r\n    const { loading ,error, users } = userList\r\n\r\n\r\n    const userLogin  = useSelector(state => state.userLogin)  //get the user info \r\n    const { userInfo } = userLogin\r\n\r\n\r\n\r\n\r\n    const userDelete  = useSelector(state => state.userDelete) \r\n    const { success:successDelete } = userDelete\r\n\r\n\r\n\r\n\r\n\r\n\r\n    useEffect (() => {\r\n      if(userInfo &&  userInfo.isAdmin){\r\n        dispatch(listUsers())\r\n      }else{\r\n        navigate('/login')\r\n      }\r\n    },[dispatch,navigate,userInfo,successDelete])\r\n\r\n    const deleteHandler =(id) => {\r\n      if(window.confirm('Are you suse you want ti delete this user ?')){\r\n      dispatch(deleteUser(id))\r\n      }\r\n    }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n    <h1>Users</h1>\r\n        {loading ?\r\n        (<Loader />)\r\n          :\r\n          error  ?\r\n          (<Message variant='danger'>{error}</Message> )\r\n          : (\r\n            <Table striped bordered hover responsive className='table-sm'>\r\n\r\n              <thead>\r\n                <tr>\r\n                    <th>                    ID                  </th>\r\n                    <th>                    Name                  </th>\r\n                    <th>                    Email                  </th>\r\n                    <th>                    Admin                  </th>\r\n                    <th>              </th>\r\n                </tr>\r\n              </thead>\r\n\r\n\r\n              <tbody>\r\n                {users.map(user => (\r\n                  <tr key={user._id}>\r\n                    <td>{user._id}</td>\r\n                    <td>{user.name}</td>\r\n                    <td>{user.email}</td>\r\n\r\n                    <td>{user.isAdmin ?\r\n                    ( \r\n                    <i className='fas fa-check' style={{color:'green'}}></i>\r\n                    ):(\r\n                      <i className='fa-sharp fa-solid fa-xmark' style={{color:'red'}}></i>\r\n                    )}</td>\r\n\r\n\r\n                      <td>\r\n                          <LinkContainer to={`/admin/users/${user._id}/edit`}>\r\n                          <Button variant='light' className='btn-sm'>\r\n                            <i className='fas fa-edit'></i>\r\n                          </Button>\r\n                          </LinkContainer>\r\n                          \r\n                          <Button variant='danger' className='btn-sm' onClick={() => deleteHandler(user._id)}>\r\n                            <i className='fas fa-trash'></i>\r\n                          </Button>\r\n                      </td>\r\n\r\n                      \r\n                    </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n\r\n          ) }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserListScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}