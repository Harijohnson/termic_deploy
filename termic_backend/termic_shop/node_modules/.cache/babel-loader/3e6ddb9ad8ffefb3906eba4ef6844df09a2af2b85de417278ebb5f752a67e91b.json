{"ast":null,"code":"import React,{useEffect}from'react';import{Table,Button}from'react-bootstrap';import Loader from'../components/Loader';import Message from'../components/Message';import{useDispatch,useSelector}from'react-redux';import{LinkContainer}from'react-router-bootstrap';import{listOrders}from'../actions/orderActions';import{useNavigate}from'react-router-dom';// import Paginate from '../components/Paginate'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OrderListScreen(){const dispatch=useDispatch();const navigate=useNavigate();const orderList=useSelector(state=>state.orderList);const{loading,error,orders,page,pages}=orderList;const userLogin=useSelector(state=>state.userLogin);//get the user info \nconst{userInfo}=userLogin;useEffect(()=>{if(userInfo&&userInfo.isAdmin){dispatch(listOrders());}else{navigate('/login');}},[dispatch,navigate,userInfo]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Orders\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"                    ID                 \"}),/*#__PURE__*/_jsx(\"th\",{children:\"                    User                  \"}),/*#__PURE__*/_jsx(\"th\",{children:\"                    Date                  \"}),/*#__PURE__*/_jsx(\"th\",{children:\"                    Total                  \"}),/*#__PURE__*/_jsx(\"th\",{children:\"                    Paid                  \"}),/*#__PURE__*/_jsx(\"th\",{children:\"                    Delivered                  \"}),/*#__PURE__*/_jsx(\"th\",{children:\"              \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.user&&order.user.name}),/*#__PURE__*/_jsx(\"td\",{children:order.createdAt&&order.createdAt.substring(0,10)}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",order.totalPrice]}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid?order.paidAt&&order.paidAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fa-sharp fa-solid fa-xmark\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered?order.deliveredAt&&order.deliveredAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fa-sharp fa-solid fa-xmark\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/order/\".concat(order._id),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:\"Details\"})})})]},order._id))})]})})]});}export default OrderListScreen;","map":{"version":3,"names":["React","useEffect","Table","Button","Loader","Message","useDispatch","useSelector","LinkContainer","listOrders","useNavigate","jsx","_jsx","jsxs","_jsxs","OrderListScreen","dispatch","navigate","orderList","state","loading","error","orders","page","pages","userLogin","userInfo","isAdmin","children","variant","striped","bordered","hover","responsive","className","map","order","_id","user","name","createdAt","substring","totalPrice","isPaid","paidAt","style","color","isDelivered","deliveredAt","to","concat"],"sources":["C:/Users/HARI_JOHNSON/Desktop/digital-shop/termic_deploy/termic_backend/termic_shop/src/screens/OrderListScreen.jsx"],"sourcesContent":["import React,{ useEffect } from 'react'\r\nimport { Table,Button } from 'react-bootstrap'\r\nimport  Loader   from '../components/Loader'\r\nimport  Message   from '../components/Message'\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { listOrders } from '../actions/orderActions'\r\nimport { useNavigate } from 'react-router-dom'\r\n// import Paginate from '../components/Paginate'\r\n\r\n\r\nfunction OrderListScreen() {\r\n    const dispatch =useDispatch()\r\n    const navigate = useNavigate();\r\n\r\n\r\n\r\n    \r\n \r\n\r\n\r\n    const orderList  = useSelector(state => state.orderList)\r\n    const { loading ,error, orders ,page,pages} = orderList\r\n\r\n\r\n    const userLogin  = useSelector(state => state.userLogin)  //get the user info \r\n    const { userInfo } = userLogin\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    useEffect (() => {\r\n      if(userInfo &&  userInfo.isAdmin){\r\n        dispatch(listOrders())\r\n      }else{\r\n        navigate('/login')\r\n      }\r\n    },[dispatch,navigate,userInfo])\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n    <h1>Orders</h1>\r\n        {loading ?\r\n        (<Loader />)\r\n          :\r\n          error  ?\r\n          (<Message variant='danger'>{error}</Message> )\r\n          : (\r\n            <div>\r\n              <Table striped bordered hover responsive className='table-sm'>\r\n\r\n                <thead>\r\n                  <tr>\r\n                      <th>                    ID                 </th>\r\n                      <th>                    User                  </th>\r\n                      <th>                    Date                  </th>\r\n                      <th>                    Total                  </th>\r\n                      <th>                    Paid                  </th>\r\n                      <th>                    Delivered                  </th>\r\n                      <th>              </th>\r\n                  </tr>\r\n                </thead>\r\n\r\n\r\n                <tbody>\r\n                  {orders.map(order => (\r\n                    <tr key={order._id}>\r\n                      <td>{order._id}</td>\r\n                      <td>{order.user && order.user.name}</td>\r\n                      <td>{ order.createdAt && order.createdAt.substring(0,10)}</td>\r\n                      <td>${order.totalPrice}</td>\r\n\r\n\r\n\r\n                      <td>{order.isPaid ?\r\n                      ( \r\n                          order.paidAt  && order.paidAt.substring(0,10)\r\n                      ):(\r\n                        <i className='fa-sharp fa-solid fa-xmark' style={{color:'red'}}></i>\r\n                      )}</td>\r\n\r\n                      <td>{order.isDelivered ?\r\n                      ( \r\n                          order.deliveredAt && order.deliveredAt.substring(0,10)\r\n                      ):(\r\n                        <i className='fa-sharp fa-solid fa-xmark' style={{color:'red'}}></i>\r\n                      )}</td>\r\n\r\n\r\n\r\n                        <td>\r\n                            <LinkContainer to={`/order/${order._id}`}>\r\n                            <Button variant='light' className='btn-sm'>\r\n                              Details\r\n                            </Button>\r\n                            </LinkContainer>\r\n                        </td>\r\n\r\n                        \r\n                      </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n           \r\n             {/* <Paginate pages={pages} page={page} isAdmin={true}>\r\n             </Paginate> */}\r\n             </div>\r\n          ) }\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default OrderListScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}